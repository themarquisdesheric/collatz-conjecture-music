{"version":3,"sources":["components/Header.js","proptypes-constants.js","components/Chart.js","components/Hoverable.js","components/ListItem.js","components/List.js","components/CollatzGraph.js","components/IntroBlurb.js","components/RenderContent.js","components/Arrows.js","components/SelectInput.js","components/Controls.js","components/ErrorBoundary.js","utils.js","components/Music.js","components/Footer.js","components/Main.js","index.js"],"names":["Header","PropTypes","number","string","node","func","arrayOf","bool","LineChart","Component","componentDidMount","sequence","this","props","data","updateChart","chart","Chart","canvas","type","options","title","display","text","fontFamily","fontSize","fontColor","legend","labels","shouldComponentUpdate","nextProps","componentDidUpdate","update","componentWillUnmount","destroy","evens","map","num","odds","datasets","label","backgroundColor","borderColor","borderWidth","render","className","ref","Hoverable","state","hover","toggleHover","setState","onMouseEnter","onMouseLeave","children","EvenOrOdd","ListItem","finalVal","transform","style","HoverableListItem","List","i","length","key","CollatzGraph","IntroBlurb","href","target","rel","RenderContent","role","aria-label","ArrowOutline","direction","component","styled","propTypes","isRequired","LeftArrow","ArrowLeftOutline","RightArrow","ArrowRightOutline","HoverableArrow","left","handleClick","color","onClick","Arrows","handleIncrement","handleDecrement","waveTypes","SelectInput","wave","onChange","value","Controls","startVal","handleSubmit","e","isPlaying","handlePlaybackEnd","handleRepeat","Number","input","preventDefault","alert","handleKeyDown","document","activeElement","handleInput","newStartValue","window","gtag","addEventListener","focus","_prevProps","prevState","handleCollatz","scrollTo","removeEventListener","handleWave","onSubmit","defaultValue","height","width","margin","ErrorBoundary","hasError","componentDidCatch","setTimeout","handleError","scaleSequence","unscaled","floor","ceiling","min","Math","max","Music","playSequence","scaledSequence","counter","intervalID","setInterval","clearInterval","osc","frequency","audioCtx","AudioContext","webkitAudioContext","createOscillator","connect","destination","start","disconnect","close","Footer","Date","getFullYear","Main","push","calculateCollatz","handlePlaybackStart","id","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.7a52c400.chunk.js","sourcesContent":["import React from 'react';\n\nconst Header = () => (\n  <header>\n    <h2>Collatz Music</h2>\n    <hr />\n  </header>\n);\n\nexport default Header;\n","import PropTypes from 'prop-types';\n\nexport const { number, string, func, arrayOf, bool, node } = PropTypes;\n","import React, { Component } from 'react';\n\nimport Chart from 'chart.js';\nimport { arrayOf, number } from '../proptypes-constants';\n\nexport default class LineChart extends Component {\n  static propTypes = {\n    data: arrayOf(number).isRequired\n  }\n\n  componentDidMount() {\n    const { data: sequence } = this.props;\n\n    const data = this.updateChart(sequence);\n\n    const options = {\n      title: {\n        display: true,\n        text: 'Distribution of even and odd numbers',\n        fontFamily: 'Oswald',\n        fontSize: 14,\n        fontColor: '#eee'\n      },\n      legend: {\n        labels: {\n          fontFamily: 'Oswald',\n          fontSize: 14,\n          fontColor: '#eee'\n        }\n      }\n    };\n\n    const chart = new Chart(this.canvas, {\n      type: 'line',\n      data,\n      options\n    });\n  \n    this.chart = chart;\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return this.props.data !== nextProps.data;\n  }\n\n  componentDidUpdate() {\n    const { chart } = this;\n    const { data: sequence } = this.props;\n\n    chart.data = this.updateChart(sequence);\n    chart.update();\n  }\n\n  componentWillUnmount() {\n    this.chart.destroy();\n  }\n\n  updateChart(sequence) {\n    const evens = sequence.map( (num) => (num % 2 === 0) ? num : 0);\n    const odds = sequence.map( (num) => (num % 2 === 0) ? 0 : num);\n  \n    return {\n      labels: sequence,\n      datasets: [{\n        label: 'even',\n        data: evens,\n        backgroundColor: 'rgba(0, 255, 255, .6)',\n        borderColor: 'rgba(0, 255, 255, 1)',\n        borderWidth: 1\n      }, \n      {\n        label: 'odd',\n        data: odds,\n        backgroundColor: 'rgba(255, 0, 255, .6)',\n        borderColor: 'rgba(255, 0, 255, 1)',\n        borderWidth: 1\n      }]\n    };\n  }\n\n  render () {\n    return (\n      <div className=\"chart\">\n        <div>\n          <canvas ref={(canvas) => this.canvas = canvas} />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport { func } from '../proptypes-constants';\n\nexport default class Hoverable extends Component {\n  static propTypes = {\n    children: func.isRequired\n  };\n\n  state = {\n    hover: false\n  };\n\n  toggleHover = () => {\n    this.setState({ hover: !this.state.hover });\n  }\n\n  render() {\n    return (\n      <div \n        onMouseEnter={this.toggleHover}\n        onMouseLeave={this.toggleHover}  \n      >\n        {this.props.children({ hover: this.state.hover })}\n      </div>\n    );\n  }\n}\n","import React, { Component, Fragment } from 'react';\n\nimport Hoverable from './Hoverable';\nimport { number, bool } from '../proptypes-constants';\n\nconst EvenOrOdd = ({ num }) => \n  (num % 2 === 0)\n    ? <Fragment>\n        <span className=\"even\">{num} is even</span> so we divide by 2 \n      </Fragment>\n    : <Fragment>\n        <span className=\"odd\">{num} is odd</span> so we multiply by 3, then add 1 \n      </Fragment>;\n\nEvenOrOdd.propTypes = {\n  num: number.isRequired\n};\n\nclass ListItem extends Component {\n  static propTypes = {\n    num: number.isRequired,\n    hover: bool.isRequired,\n    finalVal: bool\n  }\n\n  render() {\n    const { hover, num, finalVal } = this.props;\n    const transform = hover ? 'scale(1.1)' : '';\n\n    return (\n      <li style={{ transform }}>\n        {finalVal\n          ? <span className=\"odd\">{num} has been reached</span>\n          : <EvenOrOdd num={num} />\n        }\n      </li>\n    );\n  }\n}\n\n// might go back to making this play a tone on hover again\n\nexport const HoverableListItem = (props) => (\n  <Hoverable>\n    {({ hover }) => (\n      <ListItem {...props} hover={hover} />\n    )}\n  </Hoverable>\n);\n\nHoverableListItem.propTypes = {\n  num: number.isRequired,\n  finalVal: bool\n};\n","import React from 'react';\n\nimport { HoverableListItem as ListItem } from './ListItem';\nimport { arrayOf, number } from '../proptypes-constants';\n\nconst List = ({ sequence }) => (\n  <div className=\"sequence-list\">\n    <ul>\n      {sequence.map( (num, i) => \n        (i === sequence.length - 1) \n          ? <ListItem \n              num={num}\n              finalVal={true}\n              key={num}\n            />\n          : <ListItem num={num} key={num} />\n      )}\n    </ul>\n  </div>\n);\n\nList.propTypes = {\n  sequence: arrayOf(number).isRequired\n};\n\nexport default List;\n","import React, { Fragment } from 'react';\n\nimport Chart from './Chart';\nimport List from './List';\nimport { arrayOf, number } from '../proptypes-constants';\n\nconst CollatzGraph = ({ sequence }) => (\n  <Fragment>\n    <Chart data={sequence} />\n    <List sequence={sequence} />\n  </Fragment>\n);\n\nCollatzGraph.propTypes = {\n  sequence: arrayOf(number).isRequired\n};\n\nexport default CollatzGraph;\n","import React from 'react';\n\nconst IntroBlurb = () => (\n  <div className=\"intro-blurb\">\n    <ul>\n      <li>\n        The \n        <a href=\"https://en.wikipedia.org/wiki/Collatz_conjecture\" target=\"_blank\" rel=\"noopener noreferrer\">\n          Collatz Conjecture\n        </a>\n        is an unsolved problem in mathematics.\n      </li>\n      <li>It states that given any positive integer, the sequence will always reach 1 by following two rules:</li>\n      <li className=\"italics\">\n        If the integer is even, divide it by 2\n      </li>\n      <li className=\"italics\">\n        Otherwise multiply it by 3 and add 1\n      </li>\n      <li>Then repeat the process until you reach 1</li>\n    </ul>\n  </div>\n);\n\nexport default IntroBlurb;\n","import React, { Fragment } from 'react';\n\nimport CollatzGraph from './CollatzGraph';\nimport IntroBlurb from './IntroBlurb';\nimport { arrayOf, number } from '../proptypes-constants';\n\nconst RenderContent = ({ sequence }) => (\n  <Fragment>\n    <main>\n      {!!sequence.length\n        ? <CollatzGraph sequence={sequence} />\n        : <IntroBlurb />\n      }\n    </main>\n    {!sequence.length && \n      <Fragment>\n        <hr />\n        <p className=\"pattern-sound\">\n          But how might the resulting pattern sound?<br />\n        </p>\n        <p className=\"thinking-emoji\">\n          <span role=\"img\" aria-label=\"thinking emoji\">\n            🤔\n          </span>\n        </p>\n        <small>(make sure your speakers are on, but not too loud)</small>\n      </Fragment>\n    }\n  </Fragment>\n);\n\nRenderContent.propTypes = {\n  sequence: arrayOf(number).isRequired\n};\n\nexport default RenderContent;\n","import React, { Fragment } from 'react';\nimport styled from 'styled-components';\nimport ArrowLeftOutline from 'react-icons/lib/ti/arrow-left-outline';\nimport ArrowRightOutline from 'react-icons/lib/ti/arrow-right-outline';\n\nimport Hoverable from './Hoverable';\nimport { string, func, node } from '../proptypes-constants';\n\nconst ArrowOutline = (direction, component) =>\n  styled(component)`\n    font-size: 3em;\n    position: fixed;\n    ${direction}: 2%;\n    top: 75%;\n  \n    @media (min-width: 700px) {\n      top: 60%;\n      ${direction}: 8%;\n    }\n  `;\n\nArrowOutline.propTypes = {\n  direction: string.isRequired,\n  component: node.isRequired\n};\n\nconst LeftArrow = ArrowOutline('left', ArrowLeftOutline);\nconst RightArrow = ArrowOutline('right', ArrowRightOutline);\n\nexport const HoverableArrow = ({ left, handleClick }) => (\n  <Hoverable>\n    {({ hover }) => {\n      const color = hover ? '#eee' : 'rgba(238, 238, 238, .5)';\n  \n      return (\n        <div style={{ color }}>\n          {left\n            ? <LeftArrow onClick={handleClick} />\n            : <RightArrow onClick={handleClick} />\n          }\n        </div>\n      );\n    }}\n  </Hoverable>\n);\n\nconst Arrows = ({ handleIncrement, handleDecrement }) => (\n  <Fragment>\n    <HoverableArrow left={true} handleClick={handleDecrement} />\n    <HoverableArrow left={false} handleClick={handleIncrement} />\n  </Fragment>\n);\n\nArrows.propTypes = {\n  handleIncrement: func.isRequired,\n  handleDecrement: func.isRequired\n};\n\nexport default Arrows;\n","import React from 'react';\n\nimport { string, func } from '../proptypes-constants';\n\nconst waveTypes = ['sine', 'sawtooth', 'triangle', 'square'];\n\nconst SelectInput = ({ label, wave, onChange }) => (\n  <label>\n    {label}\n    <div>{wave}</div>\n    <select value={wave} onChange={onChange}>\n      {waveTypes.map( (wave) => (\n        <option key={wave} value={wave}>\n          {wave}\n        </option>\n      ))}\n    </select>\n  </label>\n);\n\nSelectInput.propTypes = {\n  label: string.isRequired,\n  wave: string.isRequired,\n  onChange: func.isRequired\n};\n\nexport default SelectInput;\n","import React, { Component, Fragment } from 'react';\nimport ScaleLoader from 'react-spinners/ScaleLoader';\n\nimport Arrows from './Arrows';\nimport SelectInput from './SelectInput';\nimport { arrayOf, number, string, func, bool } from '../proptypes-constants';\n\nexport default class Controls extends Component {\n  static propTypes = {\n    sequence: arrayOf(number).isRequired,\n    wave: string.isRequired,\n    handleCollatz: func.isRequired,\n    handleWave: func.isRequired,\n    handleRepeat: func.isRequired,\n    handlePlaybackEnd: func.isRequired,\n    isPlaying: bool.isRequired\n  }\n\n  state = {\n    startVal: 0\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n    \n    this.input.focus();\n  }\n\n  componentDidUpdate(_prevProps, prevState) {\n    const { startVal } = this.state;\n\n    if (prevState.startVal !== startVal) {\n      this.props.handleCollatz(startVal);\n      window.scrollTo(0, 0);\n    } \n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n    \n  handleSubmit = (e) => {\n    const { isPlaying, handlePlaybackEnd, handleRepeat } = this.props;\n    const startVal = Number(this.input.value);\n\n    e.preventDefault();\n\n    if (isPlaying) handlePlaybackEnd();\n\n    if (startVal < 2) {\n      alert('You must enter a number greater than 1');\n    } else {\n\n      if (startVal === this.state.startVal) {\n        handleRepeat(startVal);\n      } else {\n        this.setState({ startVal });\n      }\n    }\n  }\n\n  handleKeyDown = ({ key }) => {\n    // prevent interfering with navigation arrows\n    if (document.activeElement === this.input) return;\n   \n    if (key === 'ArrowLeft') this.handleDecrement();\n    else if (key === 'ArrowRight') this.handleIncrement();\n  }\n\n  handleInput = (startVal) => {\n    if (this.props.isPlaying) {\n      this.props.handlePlaybackEnd();\n    }\n\n    this.input.value = startVal;\n    this.setState({ startVal });\n  }\n\n  handleIncrement = () => {\n    const newStartValue = this.state.startVal + 1;\n    \n    window.gtag('event', 'Increment Collatz', {\n      'event_category': 'Collatz Conjecture',\n      'event_label': newStartValue,\n      'value': 1\n    });\n\n    this.handleInput(newStartValue);\n  }\n\n  handleDecrement = () => {\n    const { startVal } = this.state;\n    const newStartValue = startVal - 1;\n\n    if (startVal <= 2) {\n      alert('You must enter a number greater than 1');\n      return;\n    } \n    \n    window.gtag('event', 'Decrement Collatz', {\n      'event_category': 'Collatz Conjecture',\n      'event_label': newStartValue,\n      'value': 1\n    });\n  \n    this.handleInput(newStartValue);\n  }\n  \n  render() {\n    const { wave, handleWave, sequence, isPlaying } = this.props;\n\n    return (\n      <Fragment>\n        {!!sequence.length && \n          <Arrows \n            handleIncrement={this.handleIncrement}\n            handleDecrement={this.handleDecrement}\n          />\n        }\n        <div className=\"controls-wrapper\">\n          <form onSubmit={this.handleSubmit}>\n            <label>\n              Start value\n              <input\n                type=\"number\"\n                defaultValue={this.state.startVal || 15}\n                ref={node => this.input = node}\n              />\n            </label>\n            <SelectInput \n              label=\"Wave type\"\n              wave={wave}\n              onChange={handleWave}\n            />\n            <span className=\"button-wrapper\">\n              <button type=\"submit\">\n                {isPlaying\n                  ? <ScaleLoader color=\"#f0f\" height={10} width={2} margin=\"1px\" />\n                  : '▷ Play'\n                }\n              </button>\n            </span>\n          </form>\n        </div>\n      </Fragment>\n    );\n  }\n}\n","import React, { Component, Fragment } from 'react';\n\nimport { func } from '../proptypes-constants';\n\nexport default class ErrorBoundary extends Component {\n  static propTypes = {\n    handleError: func.isRequired\n  }\n\n  state = { hasError: false };\n\n  static getDerivedStateFromError() {\n    return { hasError: true };\n  }\n  \n  componentDidCatch() {\n    setTimeout(() => this.props.handleError(), 2500);\n  }\n\n  render() {\n    return (this.state.hasError)\n      ? (\n        <Fragment>\n          <div className=\"error-modal\">\n            <h1>\n              Aw, crap \n              <span role=\"img\" aria-label=\"dead emoji\"> 😵</span>\n            </h1>\n            If this keeps happening, please reload\n          </div>;\n        </Fragment>\n      ) \n      : this.props.children; \n  }\n}\n","export const createOscillator = (\n  wave, \n  frequency = 0,\n  audioCtx = new (window.AudioContext || window.webkitAudioContext)()\n) => {\n  const osc = audioCtx.createOscillator();\n\n  osc.type = wave;\n  osc.connect(audioCtx.destination);\n  osc.start();\n  osc.frequency.value = frequency;\n\n  return [osc, audioCtx];\n};\n\nexport const calculateCollatz = (num) => {\n  const sequence = [num];\n\n  while (num > 1) {\n    if (num % 2 === 0) {\n      num /= 2;\n    } else {\n      num = num * 3 + 1;\n    }\n    sequence.push(num);\n  }\n\n  return sequence;\n};\n\n// scale to within speaker's capabilities between min/max hz\nexport const scaleSequence = (unscaled, floor = 880, ceiling = 9000) => {\n  const min = Math.min(...unscaled);\n  const max = Math.max(...unscaled);\n\n  return unscaled.map( (num) => \n    (ceiling - floor) * (num - min) / (max - min) + floor\n  );\n};\n","import { Component } from 'react';\n\nimport { arrayOf, number, string, func } from '../proptypes-constants';\nimport { createOscillator } from '../utils';\n\nexport default class Music extends Component {\n  static propTypes = {\n    scaledSequence: arrayOf(number),\n    wave: string.isRequired,\n    handlePlaybackEnd: func.isRequired\n  }\n\n  componentDidMount() {\n    const [ osc, audioCtx ] = createOscillator(this.props.wave);\n\n    this.osc = osc;\n    this.audioCtx = audioCtx;\n    this.playSequence();  \n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalID);\n\n    this.osc.disconnect(this.audioCtx.destination);\n    this.audioCtx.close();\n  }\n\n  playSequence = () => {\n    const { scaledSequence, handlePlaybackEnd } = this.props;\n    let counter = 0;\n\n    if (!scaledSequence.length) return;\n\n    this.intervalID = setInterval( () => {\n      if (counter === scaledSequence.length) {\n        clearInterval(this.intervalID);\n        handlePlaybackEnd();\n      } else {\n        this.osc.frequency.value = scaledSequence[counter];\n\n        counter++;\n      }\n    }, 300);\n  }\n\n  render() {\n    return null;\n  }\n}\n","import React from 'react';\n\nconst Footer = () => (\n  <footer>\n    <hr />\n    <small>\n      &copy; \n      <a href=\"https://www.whoisyuval.com\" target=\"_blank\" rel=\"noopener noreferrer\">\n        yuval allweil\n      </a>\n      {new Date().getFullYear()}\n    </small>\n  </footer>\n);\n\nexport default Footer;\n","import React, { Component } from 'react';\n\nimport Header from './Header';\nimport RenderContent from './RenderContent';\nimport Controls from './Controls';\nimport ErrorBoundary from './ErrorBoundary';\nimport Music from './Music';\nimport Footer from './Footer';\nimport { calculateCollatz, scaleSequence } from '../utils';\n\nexport default class Main extends Component {\n  state = {\n    sequence: [],\n    scaledSequence: null,\n    wave: 'sine',\n    isPlaying: false\n  };\n\n  handleWave = ({ target }) => {\n    const wave = target.value;\n    \n    window.gtag('event', 'Update Wave Type', {\n      'event_category': 'Collatz Conjecture',\n      'event_label': wave,\n      'value': 1\n    });\n\n    this.setState({ wave });\n  }\n\n  handleCollatz = (startVal) => {\n    const sequence = calculateCollatz(startVal);\n    \n    window.gtag('event', 'Calculate Collatz', {\n      'event_category': 'Collatz Conjecture',\n      'event_label': startVal,\n      'value': 1\n    });\n\n    this.setState({ \n      sequence,\n      scaledSequence: scaleSequence(sequence),\n      isPlaying: true\n    });\n  }\n\n  handlePlaybackStart = () => {\n    this.setState({ isPlaying: true });\n  }\n  \n  handlePlaybackEnd = () => {\n    this.setState({ \n      isPlaying: false,\n      scaledSequence: null\n    });\n  }\n  \n  handleRepeat = (startVal) => {\n    this.setState({ sequence: [] }, () => {\n      this.handleCollatz(startVal);\n    });\n  }\n\n  handleError = () => {\n    window.scrollTo(0, 0);\n    this.handlePlaybackEnd();\n  }\n\n  render() {\n    const { sequence, scaledSequence, wave, isPlaying } = this.state;\n\n    return (\n      <div id=\"wrapper\">\n        <Header />\n        <RenderContent sequence={sequence} />\n        <Controls\n          sequence={sequence}\n          wave={wave}\n          handleCollatz={this.handleCollatz}\n          handleWave={this.handleWave}\n          handleRepeat={this.handleRepeat}\n          handlePlaybackEnd={this.handlePlaybackEnd}\n          isPlaying={isPlaying}\n        />\n        {isPlaying && \n          scaledSequence && \n            <ErrorBoundary handleError={this.handleError}>\n              <Music \n                scaledSequence={scaledSequence} \n                wave={wave} \n                handlePlaybackStart={this.handlePlaybackStart} \n                handlePlaybackEnd={this.handlePlaybackEnd}\n              />\n            </ErrorBoundary>\n        }\n        <Footer />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Main from './components/Main';\n\nimport './index.css';\n\nReactDOM.render(\n  <Main />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}