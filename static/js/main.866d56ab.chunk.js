(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){e.exports=n(45)},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(14),c=n.n(l),o=n(2),i=n(3),u=n(5),s=n(4),h=n(6),d=function(){return r.a.createElement("header",null,r.a.createElement("h2",null,"The Collatz Conjecture"),r.a.createElement("hr",null))},m=n(15),p=n.n(m),v=n(1),f=n.n(v),b=(f.a.number,f.a.string),E=(f.a.func,f.a.arrayOf,f.a.bool,f.a.node),y=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.data,t=this.updateChart(e),n=new p.a(this.canvas,{type:"line",data:t,options:{title:{display:!0,text:"Distribution of even and odd numbers",fontFamily:"Oswald",fontSize:14,fontColor:"#eee"},legend:{labels:{fontFamily:"Oswald",fontSize:14,fontColor:"#eee"}}}});this.chart=n}},{key:"shouldComponentUpdate",value:function(e){return this.props.data!==e.data}},{key:"componentDidUpdate",value:function(){var e=this.chart,t=this.props.data;e.data=this.updateChart(t),e.update()}},{key:"componentWillUnmount",value:function(){this.chart.destroy()}},{key:"updateChart",value:function(e){var t=e.map(function(e){return e%2===0?e:0}),n=e.map(function(e){return e%2===0?0:e});return{labels:e,datasets:[{label:"even",data:t,backgroundColor:"rgba(0, 255, 255, .6)",borderColor:"rgba(0, 255, 255, 1)",borderWidth:1},{label:"odd",data:n,backgroundColor:"rgba(255, 0, 255, .6)",borderColor:"rgba(255, 0, 255, 1)",borderWidth:1}]}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"chart"},r.a.createElement("div",null,r.a.createElement("canvas",{ref:function(t){return e.canvas=t}})))}}]),t}(a.Component),g=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={hover:!1},n.toggleHover=function(){n.setState({hover:!n.state.hover})},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{onMouseEnter:this.toggleHover,onMouseLeave:this.toggleHover},this.props.children({hover:this.state.hover}))}}]),t}(a.Component),w=function(e){var t=e.num;return t%2===0?r.a.createElement(a.Fragment,null,r.a.createElement("span",{className:"even"},t," is even")," so we divide by 2"):r.a.createElement(a.Fragment,null,r.a.createElement("span",{className:"odd"},t," is odd")," so we multiply by 3, then add 1")},k=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.hover,n=e.num,a=e.finalVal,l=t?"scale(1.1)":"";return r.a.createElement("li",{style:{transform:l}},a?r.a.createElement("span",{className:"odd"},n," has been reached"):r.a.createElement(w,{num:n}))}}]),t}(a.Component),j=function(e){return r.a.createElement(g,null,function(t){var n=t.hover;return r.a.createElement(k,Object.assign({},e,{hover:n}))})},O=function(e){var t=e.sequence;return r.a.createElement("div",{className:"sequence-list"},r.a.createElement("ul",null,t.map(function(e,n){return n===t.length-1?r.a.createElement(j,{num:e,finalVal:!0,key:e}):r.a.createElement(j,{num:e,key:e})})))},C=function(e){var t=e.sequence;return r.a.createElement(a.Fragment,null,r.a.createElement(y,{data:t}),r.a.createElement(O,{sequence:t}))},q=function(){return r.a.createElement("div",{className:"intro-blurb"},r.a.createElement("ul",null,r.a.createElement("li",null,"The",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Collatz_conjecture",target:"_blank",rel:"noopener noreferrer"},"Collatz Conjecture"),"is an unsolved problem in mathematics."),r.a.createElement("li",null,"It states that given any positive integer, the sequence will always reach 1 by following two rules:"),r.a.createElement("li",null,"If the integer is even,",r.a.createElement("span",{className:"odd"},"divide it by 2")),r.a.createElement("li",null,"Otherwise",r.a.createElement("span",{className:"odd"},"multiply it by 3"),"and",r.a.createElement("span",{className:"odd"},"add 1")),r.a.createElement("li",null,"Then repeat the process until you reach 1")))},S=function(e){var t=e.sequence;return r.a.createElement(a.Fragment,null,r.a.createElement("main",null,t.length?r.a.createElement(C,{sequence:t}):r.a.createElement(q,null)),!t.length&&r.a.createElement(a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("p",{className:"pattern-sound"},"But how might the resulting pattern sound?",r.a.createElement("br",null),r.a.createElement("span",{className:"thinking-emoji",role:"img","aria-label":"thinking emoji"},"\ud83e\udd14"))))},P=n(16),D=n.n(P),N=n(17),I=n(18),V=n(21),x=n.n(V),z=n(22),F=n.n(z);function A(){var e=Object(N.a)(["\n    font-size: 3em;\n    position: fixed;\n    ",": 2%;\n    top: 75%;\n  \n    @media (min-width: 700px) {\n      top: 60%;\n      ",": 8%;\n    }\n  "]);return A=function(){return e},e}var W=function(e,t){return Object(I.a)(t)(A(),e,e)};W.propTypes={direction:b.isRequired,component:E.isRequired};var M=W("left",x.a),R=W("right",F.a),T=function(e){var t=e.left,n=e.handleClick;return r.a.createElement(g,null,function(e){var a=e.hover?"#eee":"rgba(238, 238, 238, .1)";return r.a.createElement("div",{style:{color:a}},t?r.a.createElement(M,{onClick:n}):r.a.createElement(R,{onClick:n}))})},U=function(e){var t=e.handleIncrement,n=e.handleDecrement;return r.a.createElement(a.Fragment,null,r.a.createElement(T,{left:!0,handleClick:n}),r.a.createElement(T,{left:!1,handleClick:t}))},L=["sine","sawtooth","triangle","square"],H=function(e){var t=e.label,n=e.wave,a=e.onChange;return r.a.createElement("label",null,t,r.a.createElement("div",null,n),r.a.createElement("select",{value:n,onChange:a},L.map(function(e){return r.a.createElement("option",{key:e,value:e},e)})))},K=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={startVal:0},n.handleSubmit=function(e){var t=n.props,a=t.isPlaying,r=t.handleRepeat,l=Number(n.input.value);e.preventDefault(),a||(l<2?alert("You must enter a number greater than 1"):l===n.state.startVal?r(l):n.setState({startVal:l}))},n.handleKeyDown=function(e){var t=e.key;document.activeElement!==n.input&&("ArrowLeft"===t?n.handleDecrement():"ArrowRight"===t&&n.handleIncrement())},n.handleInput=function(e){n.props.isPlaying||(n.input.value=e,n.setState({startVal:e}))},n.handleIncrement=function(){n.handleInput(n.state.startVal+1)},n.handleDecrement=function(){var e=n.state.startVal;e<=2?alert("You must enter a number greater than 1"):n.handleInput(e-1)},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown),this.input.focus()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.startVal;t.startVal!==n&&(this.props.handleCollatz(n),window.scrollTo(0,0))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this,t=this.props,n=t.wave,l=t.handleWave,c=t.sequence,o=t.isPlaying;return r.a.createElement(a.Fragment,null,!!c.length&&r.a.createElement(U,{handleIncrement:this.handleIncrement,handleDecrement:this.handleDecrement}),r.a.createElement("div",{className:"controls-wrapper"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Start value",r.a.createElement("input",{type:"number",defaultValue:this.state.startVal||15,ref:function(t){return e.input=t}})),r.a.createElement(H,{label:"Wave type",wave:n,onChange:l}),r.a.createElement("span",{className:"button-wrapper"},r.a.createElement("button",{type:"submit"},o?r.a.createElement(D.a,{color:"#f0f",height:10,width:2,margin:"1px"}):"\u25b7 Play")))))}}]),t}(a.Component),_=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidCatch",value:function(){var e=this;setTimeout(function(){return e.props.handleError()},2500)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"error-modal"},r.a.createElement("h1",null,"Aw, crap",r.a.createElement("span",{role:"img","aria-label":"dead emoji"}," \ud83d\ude35")),"If this keeps happening, please reload"),";"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),t}(a.Component),B=n(23),J=n(9),Y=function(e){for(var t=[e];e>1;)e%2===0?e/=2:e=3*e+1,t.push(e);return t},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:880,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9e3,a=Math.min.apply(Math,Object(J.a)(e)),r=Math.max.apply(Math,Object(J.a)(e));return e.map(function(e){return(n-t)*(e-a)/(r-a)+t})},Q=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).playSequence=function(){var e=n.props,t=e.scaledSequence,a=e.handlePlaybackEnd,r=0;if(t.length)var l=setInterval(function(){r===t.length?(clearInterval(l),a()):(n.osc.frequency.value=t[r],r++)},300)},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new(window.AudioContext||window.webkitAudioContext),a=n.createOscillator();return a.type=e,a.connect(n.destination),a.start(),a.frequency.value=t,[a,n]}(this.props.wave),t=Object(B.a)(e,2),n=t[0],a=t[1];this.osc=n,this.audioCtx=a,this.playSequence()}},{key:"componentWillUnmount",value:function(){this.osc.disconnect(this.audioCtx.destination),this.audioCtx.close()}},{key:"render",value:function(){return null}}]),t}(a.Component),X=function(){return r.a.createElement("footer",null,r.a.createElement("hr",null),r.a.createElement("small",null,"\xa9",r.a.createElement("a",{href:"https://www.whoisyuval.com",target:"_blank",rel:"noopener noreferrer"},"yuval allweil"),"2019"))},Z=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={sequence:[],scaledSequence:null,wave:"sine",isPlaying:!1},n.handleWave=function(e){var t=e.target;n.setState({wave:t.value})},n.handleCollatz=function(e){var t=Y(e);n.setState({sequence:t,scaledSequence:G(t),isPlaying:!0})},n.handlePlaybackStart=function(){n.setState({isPlaying:!0})},n.handlePlaybackEnd=function(){n.setState({isPlaying:!1,scaledSequence:null})},n.handleRepeat=function(e){n.setState({sequence:[]},function(){n.handleCollatz(e)})},n.handleError=function(){window.scrollTo(0,0),n.handlePlaybackEnd()},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.sequence,n=e.scaledSequence,a=e.wave,l=e.isPlaying;return r.a.createElement("div",{id:"wrapper"},r.a.createElement(d,null),r.a.createElement(S,{sequence:t}),r.a.createElement(K,{sequence:t,wave:a,handleCollatz:this.handleCollatz,handleWave:this.handleWave,handleRepeat:this.handleRepeat,isPlaying:l}),l&&n&&r.a.createElement(_,{handleError:this.handleError},r.a.createElement(Q,{scaledSequence:n,wave:a,handlePlaybackStart:this.handlePlaybackStart,handlePlaybackEnd:this.handlePlaybackEnd})),r.a.createElement(X,null))}}]),t}(a.Component);n(44);c.a.render(r.a.createElement(Z,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.866d56ab.chunk.js.map